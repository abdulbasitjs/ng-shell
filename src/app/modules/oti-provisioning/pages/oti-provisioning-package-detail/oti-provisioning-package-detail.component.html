<!-- Breadcrumbs Container  -->
<div class="breadcrumb-container">
  <ng-container
    *ngIf="
      packageService.getPackageDetailLoadingObservable() | async;
      then loader;
      else breadCrumb
    "
  ></ng-container>
  <ng-template #breadCrumb>
    <div class="breadcrumbs">
      <svg-icon
        routerLink="../"
        src="assets/svg/breadcrumb-back-icon.svg"
      ></svg-icon>
      <ul class="breadcrumbs--list">
        <li class="breadcrumbs--list__item inactive">
          <a href="#">Package Management</a>
        </li>
        <li class="breadcrumbs--list__item">
          <a href="#">{{ package?.name }}</a>
        </li>
      </ul>
    </div>
  </ng-template>
</div>

<!-- Divider -->
<div class="divider-container">
  <div></div>
</div>

<!-- Section Title -->
<app-section-title
  class="section-title m-0"
  sectionTitle="Package Information"
></app-section-title>

<!-- Action Container -->
<div class="action-container m-0">
  <app-button
    class="button-component"
    (clickHandler)="disable()"
    [btnTitle]="package?.status === 1 ? 'Disable' : 'Enable'"
    classes="button-default button-tertiary button-pd"
  >
  </app-button>
  <svg-icon
    routerLink="./package/edit"
    src="assets/svg/edit-icon.svg"
  ></svg-icon>
  <svg-icon
    src="assets/svg/delete-icon.svg"
    (click)="deletePackage()"
  ></svg-icon>
</div>
<!-- Package Info Container -->
<div class="section-container package-info">
  <div class="section">
    <p class="section--title">Package Name</p>
    <ng-container
      *ngIf="
        packageService.getPackageDetailLoadingObservable() | async;
        then loader;
        else name
      "
    ></ng-container>
    <ng-template #name>
      <p class="section--name">{{ package?.name }}</p>
    </ng-template>
  </div>
  <div class="section">
    <p class="section--title">Quota Interval</p>
    <ng-container
      *ngIf="
        packageService.getPackageDetailLoadingObservable() | async;
        then loader;
        else quotaType
      "
    ></ng-container>
    <ng-template #quotaType>
      <p class="section--name">{{ intervalMapping[package?.quotaType] }}</p>
    </ng-template>
  </div>
  <div class="section">
    <p class="section--title">Quota Limit</p>
    <ng-container
      *ngIf="
        packageService.getPackageDetailLoadingObservable() | async;
        then loader;
        else quotaLimit
      "
    ></ng-container>
    <ng-template #quotaLimit>
      <p class="section--name">{{ package?.quotaLimit }}</p>
    </ng-template>
  </div>
  <div class="section">
    <p class="section--title">Quota Limit / Min</p>
    <ng-container
      *ngIf="
        packageService.getPackageDetailLoadingObservable() | async;
        then loader;
        else quotaPermin
      "
    ></ng-container>
    <ng-template #quotaPermin>
      <p class="section--name">{{ package?.perMinLimit }}</p>
    </ng-template>
  </div>
</div>

<!-- Divider  This feacture is not required right now -->
<!-- <div class="divider-container">
  <div></div>
</div> -->

<!-- Section Title -->
<!-- <app-section-title
  class="section-title m-0"
  sectionTitle="API Quota"
></app-section-title> -->

<!-- Action Container -->
<!-- <div class="action-container m-0">
  <svg-icon src="assets/svg/edit-icon.svg"></svg-icon>
</div>

<div class="section-container api-quota">
  <div class="section m-t-20" *ngFor="let apiQuota of apisQuota">
    <p class="section--title">{{ apiQuota.key }}</p>
    <p class="section--name">{{ apiQuota.value }}</p>
  </div>
</div> -->

<router-outlet></router-outlet>

<!-- Templates -->

<ng-template #loader>
  <ngx-skeleton-loader
    count="1"
    appearance="line"
    [theme]="{
      width: '20rem',
      top: '1rem',
      'background-color': '#3492c9',
      opacity: '0.1'
    }"
  ></ngx-skeleton-loader>
</ng-template>

<ng-template #suspendPackageModalTemplate>
  <app-modal [showModal]="true">
    <app-modal-header
      (onModalClose)="onModalClose()"
      [caption]="package?.status === 1 ? 'Disable Package' : 'Enable Package'"
    ></app-modal-header>
    <app-modal-body>
      <p class="user-modal-body">
        Are you sure you want to
        {{ package?.status === 1 ? "Disable Package" : "Enable Package" }}
      </p>
    </app-modal-body>
    <app-modal-footer
      (onActionHanlder)="onDisable()"
      (onModalClose)="onModalClose()"
      closeTitle="Cancel"
      [actionTitle]="
        package?.status === 1 ? 'Disable' : 'Enable'
      "
      [disableAction]="loaderService.getLoader() | async"
    ></app-modal-footer>
  </app-modal>
</ng-template>

<ng-template #deletePackageModalTemplate>
  <app-modal [showModal]="true">
    <app-modal-header
      (onModalClose)="onModalClose()"
      caption="Delete Package"
    ></app-modal-header>
    <app-modal-body>
      <p class="user-modal-body">
        Are you sure you want to delete this package?
      </p>
    </app-modal-body>
    <app-modal-footer
      (onActionHanlder)="onDeleteCompany()"
      (onModalClose)="onModalClose()"
      closeTitle="Cancel"
      actionTitle="Delete"
      [disableAction]="loaderService.getLoader() | async"
    ></app-modal-footer>
  </app-modal>
</ng-template>
