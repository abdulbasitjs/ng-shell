<ng-container [formGroup]="controls">
  <div class="form__input form__select">
    <label>Quota Interval</label>
    <div class="dropdown-trigger">
      <svg-icon
        src="assets/svg/select-dropdown-field-icon.svg"
        class="svg-dropdown-style"
        [class]="dropdown.isOpen ? 'dropdown-open' : ''"
      >
      </svg-icon>
      <app-dropdown
        class="quota-interval-dropdown"
        [items]="quotaIntervals"
        (onSelect)="handleQuotaIntervalSelect($event); dropdown.close()"
      ></app-dropdown>
    </div>
    <ng-container formGroupName="quota_interval">
      <input
        appClickOutside
        (clickOutside)="dropdown.close()"
        #dropdown="dropdown"
        appDropdown=".quota-interval-dropdown > .dropdown"
        readonly
        type="text"
        class="select"
        formControlName="name"
      />
    </ng-container>
  </div>
  <div class="form__input">
    <label>Quota Limit</label>
    <app-range-btn (onValueChange)="changeValueHandler($event)" formControlName="quota_limit"></app-range-btn>
  </div>
  <div
    *ngIf="controls.get('quota_limit')?.value >= 1"
    class="form__input form__select m-t-20"
  >
    <label>Rate limit / min</label>
    <div class="dropdown-trigger">
      <app-dropdown
        class="rate-limit-dropdown"
        [items]="rateLimitPerMinList"
        (onSelect)="handleRatesLimitSelect($event); dropdown.close()"
      >
      </app-dropdown>
      <svg-icon
        src="assets/svg/select-dropdown-field-icon.svg"
        class="svg-dropdown-style"
        [class]="dropdown.isOpen ? 'dropdown-open' : ''"
      >
      </svg-icon>
    </div>
    <ng-container formGroupName="rate_limit">
      <input
        appClickOutside
        (clickOutside)="dropdown.close()"
        appDropdown=".rate-limit-dropdown > .dropdown"
        #dropdown="dropdown"
        readonly
        type="text"
        class="select"
        formControlName="name"
      />
    </ng-container>
  </div>
  <div class="form__input" *ngIf="rateControl.value === 'custom'">
    <label>API quota / min</label>
    <app-range-btn formControlName="quota_permin"></app-range-btn>
  </div>
</ng-container>
